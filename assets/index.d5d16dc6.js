import{A as ue}from"./add.b4a773fe.js";import{A as re}from"./add.4a77b86a.js";import{A as se}from"./add.1b19adb4.js";import{O as de}from"./add.86f0af7a.js";import{A as ie}from"./add.2ec2bbc4.js";import{A as ce}from"./AddTask2.19129f21.js";import{A as te}from"./AddTask.93499407.js";import{_ as I,d as B,r as N,L as O,M as V,a as h,b as m,f as A,x as u,e as _,m as n,F as S,g as $,t as L,h as l,p as Y,l as z,o as T,Q as P,c as C,w as U,K as j,B as J,R as q,S as W,A as G,n as K,J as R,s as pe,U as ee,G as X}from"./index.052afee0.js";import{r as Q,i as H}from"./resize.e295f582.js";import"./product.c89f43f1.js";var _e="./assets/user.5fd92411.svg",he="./assets/sale.4fbcabf4.svg",me="./assets/sj.7aeb2304.svg",fe="./assets/order.c2b1c3ee.svg",ve="./assets/lxr.5861f2fd.svg",ge="./assets/gj.b04b18bb.svg",xe="./assets/task.f48328aa.svg";const be=t=>(Y("data-v-f19500a0"),t=t(),z(),t),ye={class:"component-container",style:{"margin-bottom":"20px"}},Ee=be(()=>n("div",{class:"card-header"},[n("span",null,"\u5FEB\u901F\u65B0\u5EFA")],-1)),Ae={class:"flexBetween"},De=["onClick"],Ce={class:"text"},Be=B({__name:"index",setup(t){const e=N(null),i=N(null),d=N(null),g=N(null),b=N(null),x=N(null),s=N(null),o=O({list:[{img:_e,label:"\u65B0\u5EFA\u5BA2\u6237",type:"user"},{img:he,label:"\u65B0\u5EFA\u7EBF\u7D22",type:"sale"},{img:me,label:"\u65B0\u5EFA\u5546\u673A",type:"sj"},{img:fe,label:"\u65B0\u5EFA\u8BA2\u5355",type:"order"},{img:ve,label:"\u65B0\u5EFA\u8054\u7CFB\u4EBA",type:"lxr"},{img:ge,label:"\u5199\u65B0\u8DDF\u8FDB",type:"gj"},{img:xe,label:"\u65B0\u5EFA\u4EFB\u52A1",type:"task"}]}),{list:a}=V(o),f=r=>{var v,y,E,w,M,k,F;let{type:p}=r||{};p=="user"?(v=e==null?void 0:e.value)==null||v.init("add"):p=="sale"?(y=i==null?void 0:i.value)==null||y.init("add",{clueType:0}):p=="sj"?(E=d==null?void 0:d.value)==null||E.init("add"):p=="order"?(w=g==null?void 0:g.value)==null||w.init("add"):p=="lxr"?(M=b==null?void 0:b.value)==null||M.init("add"):p=="gj"?(k=x==null?void 0:x.value)==null||k.init("add"):p=="task"&&((F=s==null?void 0:s.value)==null||F.init("add"))},c=r=>{};return(r,p)=>{const v=h("el-image"),y=h("el-card");return m(),A("div",ye,[u(y,{class:"project-card","body-style":{padding:"15px 20px"}},{header:_(()=>[Ee]),default:_(()=>[n("div",Ae,[(m(!0),A(S,null,$(l(a),(E,w)=>(m(),A("div",{class:"item flexCenter",onClick:M=>f(E)},[n("div",null,[u(v,{style:{width:"54px",height:"54px","margin-top":"10px"},src:E.img},null,8,["src"]),n("div",Ce,L(E.label),1)])],8,De))),256))]),u(ue,{ref_key:"addRef1",ref:e,onSuccess:c},null,512),u(re,{ref_key:"addRef2",ref:i,onSuccess:c},null,512),u(se,{ref_key:"addRef3",ref:d,onSuccess:c},null,512),u(de,{ref_key:"addRef4",ref:g,onSuccess:c},null,512),u(ie,{ref_key:"addRef5",ref:b,onSuccess:c},null,512),u(ce,{ref_key:"addRef6",ref:x,onSuccess:c},null,512),u(te,{ref_key:"addRef7",ref:s,onSuccess:c},null,512)]),_:1})])}}});var we=I(Be,[["__scopeId","data-v-f19500a0"]]);const Se=t=>(Y("data-v-cedccb8c"),t=t(),z(),t),$e={class:"card-header"},Me=Se(()=>n("span",{class:"fw-b"},"\u6570\u636E\u7B80\u62A5 ",-1)),ke={class:"flexStart"},Fe={class:"marginL20"},Ne={class:"flexBetween box"},je={class:"txt"},Ie={class:"btn"},Le=B({__name:"index",setup(t){const e=O({formData:{yearMonth:"",targetEnum:""},targetEnum:[{value:"COMPANY_GOALS",label:"\u516C\u53F8"},{value:"DEPARTMENT",label:"\u90E8\u95E8"},{value:"PERSONAL",label:"\u4E2A\u4EBA"}],yearMonth:[{value:0,label:"\u4ECA\u5929"},{value:1,label:"\u6628\u5929"},{value:2,label:"\u672C\u5468"},{value:3,label:"\u4E0A\u5468"},{value:4,label:"\u672C\u6708"},{value:5,label:"\u4E0A\u6708"},{value:6,label:"\u672C\u5B63\u5EA6"},{value:7,label:"\u4E0A\u5B63\u5EA6"},{value:8,label:"\u4ECA\u5E74"},{value:9,label:"\u53BB\u5E74"}],list:[{label:"\u65B0\u589E\u5BA2\u6237",value:"newCustomer"},{label:"\u65B0\u589E\u7EBF\u7D22",value:"addLeads"},{label:"\u65B0\u589E\u5546\u673A",value:"newBusiness"},{label:"\u65B0\u589E\u8BA2\u5355",value:"newOrder"},{label:"\u65B0\u589E\u8054\u7CFB\u4EBA",value:"addNewContact"},{label:"\u8DDF\u8FDB\u6B21\u6570",value:"followUpTimes"},{label:"\u5904\u7406\u4EFB\u52A1",value:"processingTasks"},{label:"\u5904\u7406\u5DE5\u5355",value:"processWorkOrder"}],listData:{}}),{list:i,formData:d,targetEnum:g,yearMonth:b,listData:x}=V(e);T(()=>{e.formData.targetEnum=e.targetEnum[0].value,e.formData.yearMonth=e.yearMonth[0].value,s()});let s=()=>{let o=JSON.parse(JSON.stringify(e.formData));P.briefing(o).then(a=>{e.listData={addLeads:2,newBusiness:3,newOrder:0,addNewContact:1,followUpTimes:5,processingTasks:16,processWorkOrder:17}})};return(o,a)=>{const f=h("el-option"),c=h("el-select"),r=h("el-card");return m(),C(r,{class:"project-card"},{header:_(()=>[n("div",$e,[Me,n("div",ke,[n("div",null,[u(c,{modelValue:l(d).targetEnum,"onUpdate:modelValue":a[0]||(a[0]=p=>l(d).targetEnum=p),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(s)},{default:_(()=>[(m(!0),A(S,null,$(l(g),p=>(m(),C(f,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("div",Fe,[u(c,{modelValue:l(d).yearMonth,"onUpdate:modelValue":a[1]||(a[1]=p=>l(d).yearMonth=p),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(s)},{default:_(()=>[(m(!0),A(S,null,$(l(b),p=>(m(),C(f,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",Ne,[(m(!0),A(S,null,$(l(i),(p,v)=>(m(),A("div",{key:v,class:"item flexCenter"},[n("div",je,L(p.label),1),n("div",Ie,L(l(x)[p.value]||0),1)]))),128))])]),_:1})}}});var Oe=I(Le,[["__scopeId","data-v-cedccb8c"]]);const Ve=["id"],Ye=B({__name:"PieChart",props:{id:{type:String,default:"pieChart"},className:{type:String,default:""},width:{type:String,default:"100%",required:!0},height:{type:String,default:"100%",required:!0},data:{type:Array,default:()=>[]}},setup(t){const e=t,{mounted:i,chart:d,beforeDestroy:g,activated:b,deactivated:x}=Q();function s(){var c;const o=H(document.getElementById(e.id));let f=((c=(e.data||[])[0])==null?void 0:c.tag)||0;o.setOption({grid:{left:"0%",right:"2%",bottom:"10%",containLabel:!0},series:[{name:"Nightingale Chart",type:"pie",radius:["65%","90%"],center:["50%","50%"],avoidLabelOverlap:!1,labelLine:{show:!1},label:{show:!0,fontSize:"16",position:"center",formatter:()=>`\u5B8C\u6210\u5EA6 
 ${f} %`},itemStyle:{borderRadius:1,color:function(r){return["#58a3f7","#e9e9e9","#8167F5"][r.dataIndex]}},data:e.data||[]}]}),d.value=o}return U(()=>e.data,()=>{j(()=>{s()})}),J(()=>{g()}),q(()=>{b()}),W(()=>{x()}),G(()=>{i();let o=null;o=setInterval(()=>{var a;(a=e.data)!=null&&a.length&&j(()=>{s(),clearInterval(o)})},100)}),(o,a)=>(m(),A("div",{id:t.id,class:K(t.className),style:R({height:t.height,width:t.width})},null,14,Ve))}});const Z=t=>(Y("data-v-64fc6a6d"),t=t(),z(),t),ze={class:"card-header"},Te=Z(()=>n("span",{class:"fw-b"},"\u4E1A\u7EE9\u76EE\u6807 ",-1)),Pe={class:"flexStart"},Re={class:"marginL20"},Ue={class:"flexStart"},Je={style:{width:"50%"},class:"box"},qe=Z(()=>n("p",null,"\u76EE\u6807\u91D1\u989D",-1)),We=Z(()=>n("p",null,"\u5B8C\u6210\u91D1\u989D",-1)),Ge=B({__name:"index",setup(t){const e=O({formData:{yearMonth:"",targetEnum:""},targetEnum:[{value:"COMPANY_GOALS",label:"\u516C\u53F8\u76EE\u6807"},{value:"DEPARTMENT",label:"\u90E8\u95E8\u76EE\u6807"},{value:"PERSONAL",label:"\u6211\u7684\u76EE\u6807"}],yearMonth:[{value:0,label:"\u4ECA\u5929"},{value:1,label:"\u6628\u5929"},{value:2,label:"\u672C\u5468"},{value:3,label:"\u4E0A\u5468"},{value:4,label:"\u672C\u6708"},{value:5,label:"\u4E0A\u6708"},{value:6,label:"\u672C\u5B63\u5EA6"},{value:7,label:"\u4E0A\u5B63\u5EA6"},{value:8,label:"\u4ECA\u5E74"},{value:9,label:"\u53BB\u5E74"}],rightData:{},chartData:[]}),{rightData:i,formData:d,targetEnum:g,yearMonth:b,chartData:x}=V(e);T(()=>{e.formData.targetEnum=e.targetEnum[0].value,e.formData.yearMonth=getTime().split("-").slice(0,2).join("-"),s()});let s=()=>{let o=JSON.parse(JSON.stringify(e.formData));P.targets(o).then(a=>{let{targetAmount:f=80,amountCompleted:c=100}={},r=parseInt(+f/+c*100);e.rightData={amountCompleted:c,targetAmount:f},e.chartData=[{value:f,name:"\u76EE\u6807\u91D1\u989D",tag:r},{value:c,name:"\u5B8C\u6210\u91D1\u989D",tag:r}]})};return(o,a)=>{const f=h("el-option"),c=h("el-select"),r=h("el-date-picker"),p=h("el-card");return m(),C(p,{class:"project-card"},{header:_(()=>[n("div",ze,[Te,n("div",Pe,[n("div",null,[u(c,{modelValue:l(d).targetEnum,"onUpdate:modelValue":a[0]||(a[0]=v=>l(d).targetEnum=v),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(s)},{default:_(()=>[(m(!0),A(S,null,$(l(g),v=>(m(),C(f,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("div",Re,[u(r,{modelValue:l(d).yearMonth,"onUpdate:modelValue":a[1]||(a[1]=v=>l(d).yearMonth=v),style:{width:"180px"},format:"YYYY-MM","value-format":"YYYY-MM",type:"month",onChange:l(s)},null,8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",Ue,[u(Ye,{width:"45%",height:"240px",data:l(x)},null,8,["data"]),n("div",Je,[n("div",null,[qe,n("span",null,"\xA5"+L(l(i).amountCompleted||0),1)]),n("div",null,[We,n("span",null,"\xA5"+L(l(i).targetAmount||0),1)])])])]),_:1})}}});var Ke=I(Ge,[["__scopeId","data-v-64fc6a6d"]]);const Qe=["id"],He=B({__name:"PieChart",props:{id:{type:String,default:"pieChart2"},className:{type:String,default:""},width:{type:String,default:"100%",required:!0},height:{type:String,default:"100%",required:!0},data:{type:Object,default:()=>({})}},setup(t){const e=t,{mounted:i,chart:d,beforeDestroy:g,activated:b,deactivated:x}=Q();function s(){const o=H(document.getElementById(e.id));let{arr1:a=[],arr2:f=[],xAxis:c=[]}=e.data,r=(a==null?void 0:a.sort((v,y)=>y-v)[0])||1e4,p=Math.ceil(Number(r/5));o.setOption({grid:{left:"2%",top:"2%",right:"2%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{x:"center",y:"bottom",data:["\u76EE\u6807\u91D1\u989D","\u6210\u4EA4\u91D1\u989D"]},xAxis:[{type:"category",data:c,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:r,interval:p,axisLabel:{formatter:"{value} "}},{type:"value",min:0,max:100,interval:20,axisLabel:{formatter:"{value}%"}}],series:[{name:"\u76EE\u6807\u91D1\u989D",type:"bar",data:a,barWidth:20,itemStyle:{color:"#3aa1ff"}},{name:"\u6210\u4EA4\u91D1\u989D",type:"bar",data:f,barWidth:20,itemStyle:{color:"#4ecb73"}}]}),d.value=o}return U(()=>e.data,()=>{j(()=>{s()})}),J(()=>{g()}),q(()=>{b()}),W(()=>{x()}),G(()=>{i();let o=null;o=setInterval(()=>{var a;(a=e.data)!=null&&a.xAxis&&j(()=>{s(),clearInterval(o)})},100)}),(o,a)=>(m(),A("div",{id:t.id,class:K(t.className),style:R({height:t.height,width:t.width})},null,14,Qe))}});const Xe=t=>(Y("data-v-41812db6"),t=t(),z(),t),Ze={class:"card-header"},et=Xe(()=>n("span",{class:"fw-b"},"\u4E1A\u7EE9\u6392\u884C ",-1)),tt={class:"flexStart"},at={class:"marginL20"},lt={class:"flexStart"},nt=B({__name:"index",setup(t){const e=O({formData:{yearMonth:"",targetEnum:""},targetEnum:[{value:"PERSONAL",label:"\u4E2A\u4EBA\u6392\u884C"},{value:"DEPARTMENT",label:"\u90E8\u95E8\u6392\u884C"}],yearMonth:[{value:0,label:"\u4ECA\u5929"},{value:1,label:"\u6628\u5929"},{value:2,label:"\u672C\u5468"},{value:3,label:"\u4E0A\u5468"},{value:4,label:"\u672C\u6708"},{value:5,label:"\u4E0A\u6708"},{value:6,label:"\u672C\u5B63\u5EA6"},{value:7,label:"\u4E0A\u5B63\u5EA6"},{value:8,label:"\u4ECA\u5E74"},{value:9,label:"\u53BB\u5E74"}],rightData:{},chartData:{}}),{rightData:i,formData:d,targetEnum:g,yearMonth:b,chartData:x}=V(e);T(()=>{e.formData.targetEnum=e.targetEnum[0].value,e.formData.yearMonth=getTime().split("-").slice(0,2).join("-"),s()});let s=()=>{let o=JSON.parse(JSON.stringify(e.formData));P.ranking(o).then(a=>{e.rightData=a.data;let f=[100,500,600,800],c=[100,500,600,800],r=["\u5F20\u827E\u65AF","\u5F20\u65AF"];e.chartData={arr1:f,arr2:c,xAxis:r}})};return(o,a)=>{const f=h("el-option"),c=h("el-select"),r=h("el-date-picker"),p=h("el-card");return m(),C(p,{class:"project-card"},{header:_(()=>[n("div",Ze,[et,n("div",tt,[n("div",null,[u(c,{modelValue:l(d).targetEnum,"onUpdate:modelValue":a[0]||(a[0]=v=>l(d).targetEnum=v),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(s)},{default:_(()=>[(m(!0),A(S,null,$(l(g),v=>(m(),C(f,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("div",at,[u(r,{modelValue:l(d).yearMonth,"onUpdate:modelValue":a[1]||(a[1]=v=>l(d).yearMonth=v),style:{width:"180px"},format:"YYYY-MM","value-format":"YYYY-MM",type:"month",onChange:l(s)},null,8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",lt,[u(He,{width:"100%",height:"280px",data:l(x)},null,8,["data"])])]),_:1})}}});var ot=I(nt,[["__scopeId","data-v-41812db6"]]);const ut=["id"],rt=B({__name:"PieChart",props:{id:{type:String,default:"pieChart5"},className:{type:String,default:""},width:{type:String,default:"100%",required:!0},height:{type:String,default:"100%",required:!0},data:{type:Object,default:()=>({})}},setup(t){const e=t,{mounted:i,chart:d,beforeDestroy:g,activated:b,deactivated:x}=Q();function s(){const o=H(document.getElementById(e.id));let{arr1:a=[],arr2:f=[],xAxis:c=[]}=e.data,r=(a==null?void 0:a.sort((v,y)=>y-v)[0])||1e4,p=Math.ceil(Number(r/5));o.setOption({grid:{left:"2%",top:"2%",right:"2%",bottom:"10%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{x:"center",y:"bottom",data:["\u9884\u8BA1\u9500\u552E\u91D1\u989D","\u6982\u7387\u91D1\u989D"]},xAxis:[{type:"category",data:c,axisPointer:{type:"shadow"}}],yAxis:[{type:"value",min:0,max:r,interval:p,axisLabel:{formatter:"{value} "}},{type:"value",min:0,max:100,interval:20,axisLabel:{formatter:"{value}%"}}],series:[{name:"\u9884\u8BA1\u9500\u552E\u91D1\u989D",type:"bar",data:a,barWidth:20,itemStyle:{color:"#3aa1ff"}},{name:"\u6982\u7387\u91D1\u989D",type:"bar",data:f,barWidth:20,itemStyle:{color:"#4ecb73"}}]}),d.value=o}return U(()=>e.data,()=>{j(()=>{s()})}),J(()=>{g()}),q(()=>{b()}),W(()=>{x()}),G(()=>{i();let o=null;o=setInterval(()=>{var a;(a=e.data)!=null&&a.xAxis&&j(()=>{s(),clearInterval(o)})},100)}),(o,a)=>(m(),A("div",{id:t.id,class:K(t.className),style:R({height:t.height,width:t.width})},null,14,ut))}});const st=t=>(Y("data-v-5984c018"),t=t(),z(),t),dt={class:"card-header"},it=st(()=>n("span",{class:"fw-b"},"\u9500\u552E\u9884\u6D4B ",-1)),ct={class:"flexStart"},pt={class:"flexStart"},_t=B({__name:"index",setup(t){const e=O({formData:{targetEnum:""},targetEnum:[{value:"COMPANY_GOALS",label:"\u516C\u53F8\u6570\u636E"},{value:"DEPARTMENT",label:"\u90E8\u95E8\u6570\u636E"},{value:"PERSONAL",label:"\u6211\u7684\u6570\u636E"}],yearMonth:[],rightData:{},chartData:{}}),{formData:i,targetEnum:d,chartData:g}=V(e);T(()=>{e.formData.targetEnum=e.targetEnum[0].value,b()});let b=()=>{let x=JSON.parse(JSON.stringify(e.formData));P.forecast(x).then(s=>{let o=[100,500,600,800],a=[100,500,600,800],f=["\u5F20\u827E\u65AF","\u5F20\u65AF"];e.chartData={arr1:o,arr2:a,xAxis:f}})};return(x,s)=>{const o=h("el-option"),a=h("el-select"),f=h("el-card");return m(),C(f,{class:"project-card"},{header:_(()=>[n("div",dt,[it,n("div",ct,[n("div",null,[u(a,{modelValue:l(i).targetEnum,"onUpdate:modelValue":s[0]||(s[0]=c=>l(i).targetEnum=c),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(b)},{default:_(()=>[(m(!0),A(S,null,$(l(d),c=>(m(),C(o,{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",pt,[u(rt,{width:"100%",height:"280px",data:l(g)},null,8,["data"])])]),_:1})}}});var ht=I(_t,[["__scopeId","data-v-5984c018"]]);const mt=["id"],ft=B({__name:"PieChart",props:{id:{type:String,default:"pieChart6"},className:{type:String,default:""},width:{type:String,default:"100%",required:!0},height:{type:String,default:"100%",required:!0},data:{type:Object,default:()=>({})}},setup(t){const e=t,{mounted:i,chart:d,beforeDestroy:g,activated:b,deactivated:x}=Q();function s(){const o=H(document.getElementById(e.id));let{arr1:a=[],arr2:f=[],xAxis:c=[]}=e.data;a!=null&&a.sort((r,p)=>p-r)[0],o.setOption({tooltip:{trigger:"item",formatter:function(r){return`${r.marker} ${r.name}   ${r.value} , ${r.percent}%`}},grid:{left:"2%",top:"2%",right:"2%",bottom:"0%"},color:["#3aa1ff","#4ecb73","#fbd437","#435188","#975fe5"],series:[{name:"",type:"funnel",left:"10%",top:"0%",bottom:"0%",label:{show:!0,color:"#545454"},labelLine:{length:30,lineStyle:{width:1,type:"solid",color:"#545454"}},itemStyle:{borderColor:"#fff",borderWidth:1},data:e.data},{name:"",type:"funnel",left:"10%",top:"0%",bottom:"0%",label:{position:"inside",color:"#fff",formatter:r=>`${r.percent}%`},itemStyle:{borderColor:"#fff",borderWidth:1},data:e.data}]}),d.value=o}return U(()=>e.data,()=>{j(()=>{s()})}),J(()=>{g()}),q(()=>{b()}),W(()=>{x()}),G(()=>{i();let o=null;o=setInterval(()=>{var a;(a=e.data)!=null&&a.xAxis&&j(()=>{s(),clearInterval(o)})},100)}),(o,a)=>(m(),A("div",{id:t.id,class:K(t.className),style:R({height:t.height,width:t.width})},null,14,mt))}});const vt=t=>(Y("data-v-1fabbd19"),t=t(),z(),t),gt={class:"card-header"},xt=vt(()=>n("span",{class:"fw-b"},"\u9500\u552E\u6F0F\u6597 ",-1)),bt={class:"flexStart"},yt={class:"marginL20"},Et={class:"flexStart"},At=B({__name:"index",setup(t){const e=O({formData:{yearMonth:"",targetEnum:""},targetEnum:[{value:"COMPANY_GOALS",label:"\u516C\u53F8\u6570\u636E"},{value:"DEPARTMENT",label:"\u90E8\u95E8\u6570\u636E"},{value:"PERSONAL",label:"\u6211\u7684\u6570\u636E"}],yearMonth:[],rightData:{},chartData:[]}),{formData:i,targetEnum:d,chartData:g}=V(e);T(()=>{e.formData.targetEnum=e.targetEnum[0].value,e.formData.yearMonth=getTime().split("-").slice(0,2).join("-"),b()});let b=()=>{let x=JSON.parse(JSON.stringify(e.formData));P.funnel(x).then(s=>{e.chartData=[{value:60,name:"\u521D\u6B65\u6D3D\u6DE1"},{value:40,name:"\u6DF1\u5165\u6C9F\u901A"},{value:30,name:"\u6D41\u5931\u5546\u673A"},{value:30,name:"\u4EA7\u54C1\u62A5\u4EF7"},{value:85,name:"\u6210\u4EA4\u5546\u673A"}]})};return(x,s)=>{const o=h("el-option"),a=h("el-select"),f=h("el-date-picker"),c=h("el-card");return m(),C(c,{class:"project-card"},{header:_(()=>[n("div",gt,[xt,n("div",bt,[n("div",null,[u(a,{modelValue:l(i).targetEnum,"onUpdate:modelValue":s[0]||(s[0]=r=>l(i).targetEnum=r),style:{width:"180px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(b)},{default:_(()=>[(m(!0),A(S,null,$(l(d),r=>(m(),C(o,{key:r.value,label:r.label,value:r.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("div",yt,[u(f,{modelValue:l(i).yearMonth,"onUpdate:modelValue":s[1]||(s[1]=r=>l(i).yearMonth=r),style:{width:"180px"},format:"YYYY-MM","value-format":"YYYY-MM",type:"month",onChange:l(b)},null,8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",Et,[u(ft,{width:"100%",height:"520px",data:l(g)},null,8,["data"])])]),_:1})}}});var Dt=I(At,[["__scopeId","data-v-1fabbd19"]]);const Ct=t=>(Y("data-v-37cc722d"),t=t(),z(),t),Bt={class:"card-header"},wt=Ct(()=>n("span",{class:"fw-b"},"\u65E5\u7A0B\u65E5\u5386 ",-1)),St={class:"flexStart"},$t={class:"marginL20"},Mt=X("\u65B0\u5EFA\u65E5\u7A0B"),kt={class:"marginL20"},Ft=X("\u65E5\u7A0B\u7BA1\u7406 "),Nt={class:"marginL20"},jt={class:"flexStart"},It=X(L(null)),Lt=["onClick"],Ot={class:"flexStart"},Vt=B({__name:"index",setup(t){const e=pe(),i=O({formData:{targetEnum:""},targetEnum:[{value:"COMPANY_GOALS",label:"\u516C\u53F8\u6570\u636E"},{value:"DEPARTMENT",label:"\u90E8\u95E8\u6570\u636E"},{value:"PERSONAL",label:"\u6211\u7684\u6570\u636E"}],value:new Date,selCalendar:"",yearMonthData:[]}),{formData:d,targetEnum:g,value:b,selCalendar:x}=V(i);T(()=>{i.formData.targetEnum=i.targetEnum[0].value,i.selCalendar=getTime().split("-").slice(0,2).join("-"),s()});let s=()=>{let{targetEnum:y}=i.formData,E={yearMonth:i.selCalendar,targetEnum:y};P.calendar(E).then(w=>{i.yearMonthData=[{startTime:"2023-01-05",taskSign:0}]})},o=y=>{let E=new Date(y+"-01");i.value=E},a=y=>y==null?void 0:y.split("-")[2],f=y=>{var k;let{yearMonthData:E}=i,w=E.filter(F=>F.startTime==y)[0];return w&&((k=[{label:"red",value:0},{label:"Blue",value:1},{label:"Purple",value:2},{label:"Black",value:3},{label:"#FFA500",value:4},{label:"#00a7d0",value:5},{label:"#ecec75",value:6}].filter(F=>F.value==w.taskSign)[0])==null?void 0:k.label)||"transparent"},c=y=>{let{yearMonthData:E}=i;!E.filter(M=>M.startTime==y.day)[0]||v()};const r=N(null);let p=()=>{var y;(y=r==null?void 0:r.value)==null||y.init("add")},v=(y={})=>{e.push({path:"/officeManage/task",query:y})};return(y,E)=>{const w=h("el-option"),M=h("el-select"),k=h("el-button"),F=h("ArrowRight"),ae=h("el-icon"),le=h("el-date-picker"),ne=h("el-calendar"),oe=h("el-card");return m(),C(oe,{class:"project-card",id:"calendar_header"},{header:_(()=>[n("div",Bt,[wt,n("div",St,[n("div",null,[u(M,{modelValue:l(d).targetEnum,"onUpdate:modelValue":E[0]||(E[0]=D=>l(d).targetEnum=D),style:{width:"120px"},placeholder:"\u8BF7\u9009\u62E9",onChange:l(s)},{default:_(()=>[(m(!0),A(S,null,$(l(g),D=>(m(),C(w,{key:D.value,label:D.label,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),n("div",$t,[u(k,{icon:"Plus",onClick:l(p)},{default:_(()=>[Mt]),_:1},8,["onClick"])]),n("div",kt,[u(k,{onClick:l(v)},{default:_(()=>[Ft,u(ae,null,{default:_(()=>[u(F)]),_:1})]),_:1},8,["onClick"])]),n("div",Nt,[u(le,{modelValue:l(x),"onUpdate:modelValue":E[1]||(E[1]=D=>ee(x)?x.value=D:null),style:{width:"120px"},format:"YYYY-MM","value-format":"YYYY-MM",type:"month",onChange:l(o)},null,8,["modelValue","onChange"])])])])]),default:_(()=>[n("div",jt,[u(ne,{modelValue:l(b),"onUpdate:modelValue":E[2]||(E[2]=D=>ee(b)?b.value=D:null)},{header:_(({date:D})=>[It]),dateCell:_(({data:D})=>[n("div",{class:"flexCenter rlBox",onClick:Pt=>l(c)(D)},[n("div",Ot,[n("div",null,L(l(a)(D.day)),1),n("div",{class:"yuan",style:R({background:l(f)(D.day)})},null,4)])],8,Lt)]),_:1},8,["modelValue"])]),u(te,{ref_key:"addTaskRef",ref:r,onSuccess:l(s)},null,8,["onSuccess"])]),_:1})}}});var Yt=I(Vt,[["__scopeId","data-v-37cc722d"]]);const zt={class:"dashboard-container"},Tt=B({__name:"index",setup(t){return(e,i)=>{const d=h("el-col"),g=h("el-row");return m(),A("div",zt,[u(we),u(g,{gutter:20},{default:_(()=>[u(d,{span:12},{default:_(()=>[u(Oe,{class:"marginB20"})]),_:1}),u(d,{span:12},{default:_(()=>[u(Ke,{class:"marginB20"})]),_:1})]),_:1}),u(g,{gutter:20},{default:_(()=>[u(d,{span:12},{default:_(()=>[u(ot,{class:"marginB20"})]),_:1}),u(d,{span:12},{default:_(()=>[u(ht,{class:"marginB20"})]),_:1})]),_:1}),u(g,{gutter:20},{default:_(()=>[u(d,{span:12},{default:_(()=>[u(Dt,{class:"marginB20"})]),_:1}),u(d,{span:12},{default:_(()=>[u(Yt,{class:"marginB20"})]),_:1})]),_:1})])}}});var Zt=I(Tt,[["__scopeId","data-v-72989698"]]);export{Zt as default};
