var Se=Object.defineProperty,ke=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Ie=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var ie=(m,c,y)=>c in m?Se(m,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):m[c]=y,J=(m,c)=>{for(var y in c||(c={}))Ie.call(c,y)&&ie(m,y,c[y]);if(oe)for(var y of oe(c))Te.call(c,y)&&ie(m,y,c[y]);return m},X=(m,c)=>ke(m,$e(c));import{d as O,q as P,s as K,u as Y,L as V,M as U,w as Ne,A as M,W as re,ah as ce,Y as de,X as pe,aG as _e,Z as Le,aH as me,an as ne,a as S,b as l,f as _,x as n,e as r,F as H,g as Q,c as C,h as e,m as d,t as L,y as k,G as T,n as Re,r as z,E as te,a4 as ze,a0 as ee,aA as be,ar as Oe,a2 as Ve,a3 as Ue,a6 as je,au as qe,_ as Me,o as Pe,$ as le,U as Je,p as We,l as Xe,K as Ge}from"./index.6f18bade.js";import{f as fe,F as He}from"./FollowTask.e925c40f.js";import{A as ye}from"./add.85cd694e.js";import{A as Qe}from"./add.4d672949.js";import{C as Ke}from"./Convert2Customer.be7a69bd.js";import{A as Ye}from"./add.3a7c70fe.js";import{g as Ze,A as et}from"./AddTask.f5502617.js";import{A as tt}from"./AddTask2.d19b3af9.js";import{O as ve}from"./add.cb8cec8f.js";import{T as at}from"./TransferUser.fdd6e020.js";import{M as lt}from"./Move2Sea.b332f790.js";import{A as nt}from"./AddCooperation.9a64fde0.js";import{A as ut}from"./add.244b01c1.js";import{F as ue}from"./index.5a1c8eed.js";import{_ as st}from"./contacts.221eefff.js";import{_ as ot}from"./lowerCustomer.87d08981.js";import{_ as it,a as rt}from"./smsLog.6f8a0eb8.js";import{_ as ct}from"./index.5f93f5a1.js";import{_ as dt}from"./index.3d810bbf.js";import"./product.3072bf93.js";import"./dict.c33b8edc.js";import"./index.0bd58103.js";import"./uploadFile.7fb63e06.js";const pt=[{label:"\u59D3\u540D",value:"contactName"},{label:"\u4F01\u4E1A",value:"clientName"},{label:"\u624B\u673A",value:"cluePhone",type:2},{label:"\u884C\u4E1A",value:"clientIndustry"},{label:"\u7535\u8BDD",value:"fixPhone",type:3},{label:"\u804C\u52A1",value:"departmentalPosition"},{label:"\u6027\u522B",value:"honorific"},{label:"\u5730\u5740",value:"address"},{label:"\u751F\u65E5",value:"birthday"},{label:"\u5FAE\u4FE1",value:"wechatNumber"},{label:"\u6765\u6E90",value:"clientSource"},{label:"QQ",value:"qqNumber"},{label:"\u5BA2\u6237\u7B49\u7EA7",value:"clientType"},{label:"\u90AE\u7BB1",value:"clueEmail",type:3},{label:"\u5907\u6CE8",value:"appendRemarks"}],_t=[{label:"\u7CFB\u7EDF\u7F16\u53F7",value:"clientId"},{label:"\u7EBF\u7D22\u5F52\u5C5E",value:"belongUserName"},{label:"\u521B\u5EFA\u4EBA\u5458",value:"creatorName"},{label:"\u524D\u5F52\u5C5E\u4EBA",value:"oldBelongUserName"},{label:"\u8DDF\u8FDB\u72B6\u6001",value:"followUpStatus"},{label:"\u534F\u4F5C\u4EBA",value:"cooperationUserName"},{label:"\u5165\u5E93\u65F6\u95F4",value:"updateTime"},{label:"\u66F4\u65B0\u65F6\u95F4",value:"updateTime"},{label:"\u521B\u5EFA\u65F6\u95F4",value:"createTime"},{label:"\u6700\u540E\u8DDF\u8FDB",value:"followTime"},{label:"\u672A\u8DDF\u8FDB\u5929\u6570",value:"notFollowedUp"}];const mt={key:0},bt={key:1},ft={class:"flexBetween"},yt={style:{"white-space":"nowrap"}},vt=T("\u62E8\u6253"),ht=T("\u77ED\u4FE1"),gt={key:2},Dt={key:0},Bt={class:"flexBetween"},Ft=d("div",null,null,-1),xt={key:1},wt={class:"flexBetween"},At=T("\u62E8\u6253"),Ct=T("\u77ED\u4FE1"),Et={key:2},St={class:"flexBetween"},kt=d("div",null,null,-1),$t={key:3},It={class:"flexBetween"},Tt=d("div",null,null,-1),Nt={key:4},Lt=d("div",null,null,-1),Rt=O({__name:"index",props:{row:{type:Object,default:{}},isShowSea:{type:Boolean,default:!1}},emits:["success","addFollow"],setup(m,{expose:c,emit:y}){const b=m;P(),K();const a=Y(),t=V({formData:{},aboutData:{},checked1:!1,tableData:[],pagination:{pageSize:10,pageIndex:1,total:0}}),{formData:o,checked1:p,tableData:j,pagination:q,aboutData:g}=U(t);Ne(b.row,s=>{B()}),M(()=>{B()});let B=async()=>{let s=b.row,v=X(J({},s),{clientType:findLabel(re,s.clientType),clientState:findLabel(ce,s.clientState),clientIndustry:findLabel(de,s.clientIndustry),clientSource:findLabel(pe,s.clientSource),clueRole:findLabel(_e,s.clueRole),honorific:findLabel(Le,s.honorific)});Object.assign(t.formData,J({},v)),t.aboutData=b.row.relatedDataVO||{}};M(()=>{B(),f()});const f=async()=>{var v;let s=null;try{let R=a.query.clientId,$={followInfoType:"CLIENT",detailsId:R,current:t.pagination.pageIndex,size:t.pagination.pageSize};s=await fe.getList($);let i=((v=s.data.records)==null?void 0:v.map(h=>{var F;return X(J({},h),{followType:findLabel(me,h.followType),hollow:!1,followInfoType:$.followInfoType,time:(F=h.createTime)==null?void 0:F.split(" ")[0]})}))||[];t.tableData=i}catch{t.tableData=[]}},x=ne("oepnPhone"),A=ne("openSms");return c({init:B}),(s,v)=>{const R=S("el-rate"),$=S("el-link"),i=S("el-descriptions-item"),h=S("el-descriptions"),F=S("el-col"),I=S("el-row");return l(),_("div",null,[n(I,{gutter:20},{default:r(()=>[n(F,{span:12},{default:r(()=>[n(h,{title:"\u57FA\u672C\u4FE1\u606F",class:"marginB20",column:2,border:""},{default:r(()=>[(l(!0),_(H,null,Q(e(pt),(E,Z)=>(l(),C(i,{"label-align":"right",align:"left",label:E.label,key:Z,"label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[E.type==1?(l(),_("span",mt,[n(R,{modelValue:e(o)[E.value],"onUpdate:modelValue":G=>e(o)[E.value]=G,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):E.type==2?(l(),_("span",bt,[d("div",ft,[d("div",null,L(e(o)[E.value]||"-"),1),d("div",yt,[n($,{type:"primary",icon:"Phone",onClick:v[0]||(v[0]=G=>e(x)(e(o).cluePhone,e(o).clientId)),style:{"margin-right":"10px"}},{default:r(()=>[vt]),_:1}),n($,{type:"primary",icon:"Message",onClick:v[1]||(v[1]=G=>e(A)(!0,[e(o)]))},{default:r(()=>[ht]),_:1})])])])):(l(),_("span",gt,L(e(o)[E.value]||"-"),1))]),_:2},1032,["label"]))),128)),b.isShowSea?(l(),C(i,{key:0,"label-align":"right",align:"left",label:"\u5BA2\u6237\u7C7B\u578B","label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[d("span",null,L(e(o).clientType||"-"),1)]),_:1})):k("",!0)]),_:1}),n(h,{title:"\u7CFB\u7EDF\u4FE1\u606F",class:"marginB20",column:2,border:""},{default:r(()=>[(l(!0),_(H,null,Q(e(_t),(E,Z)=>(l(),C(i,{"label-align":"right",align:"left",label:E.label,key:Z,"label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[E.type==1?(l(),_("span",Dt,[d("div",Bt,[d("div",null,L(e(o)[E.value]||"-"),1),Ft])])):E.type==2?(l(),_("span",xt,[d("div",wt,[d("div",null,L(e(o)[E.value]||"-"),1),d("div",null,[n($,{type:"primary",icon:"Phone",onClick:v[2]||(v[2]=G=>e(x)(e(o).cluePhone,e(o).clientId)),style:{"margin-right":"10px"}},{default:r(()=>[At]),_:1}),n($,{type:"primary",icon:"Message",onClick:v[3]||(v[3]=G=>e(A)())},{default:r(()=>[Ct]),_:1})])])])):E.type==3?(l(),_("span",Et,[d("div",St,[d("div",null,L(e(o)[E.value]||"-"),1),kt])])):E.type==4?(l(),_("span",$t,[d("div",It,[d("div",null,L(e(o)[E.value]||"-"),1),Tt])])):(l(),_("span",Nt,L(e(o)[E.value]||"-"),1))]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),n(F,{span:12},{default:r(()=>[n(ue,{style:{height:"730px"},title:"\u8DDF\u8FDB\u8BB0\u5F55",tableData:e(j),pagination:e(q),isShowBtn:!1,"is-show-pagination":!1,onGetList:f},{default:r(()=>[Lt]),_:1},8,["tableData","pagination"])]),_:1})]),_:1})])}}}),zt=[{label:"\u5BA2\u6237\u540D\u79F0",value:"clientName"},{label:"\u52A9\u8BB0\u540D\u79F0",value:"mnemonicName"},{label:"\u5BA2\u6237\u7C7B\u578B",value:"clientType"},{label:"\u6240\u5C5E\u884C\u4E1A",value:"clientIndustry"},{label:"\u5BA2\u6237\u661F\u7EA7",value:"clientStar",type:1},{label:"\u5BA2\u6237\u6765\u6E90",value:"clientSource"},{label:"\u5BA2\u6237\u72B6\u6001",value:"clientState"},{label:"\u5BA2\u6237\u5F52\u5C5E",value:"belongUserName"}],Ot=[{label:"\u6240\u5728\u5730\u533A",value:"priLat"},{label:"\u8BE6\u7EC6\u5730\u5740",value:"priAddress"},{label:"\u4F01\u4E1A\u89C4\u6A21",value:"enterpriseSize"},{label:"\u4E0A\u7EA7\u5BA2\u6237",value:"superClientName",type:1},{label:"\u4E0B\u7EA7\u5BA2\u6237",value:"numberOfSubordinateCustomers",type:2},{label:"\u5907\u6CE8\u4FE1\u606F",value:"appendRemarks"}],Vt=[{label:"\u7CFB\u7EDF\u7F16\u53F7",value:"clientId"},{label:"\u534F\u4F5C\u4EBA\u5458",value:"collaborators"},{label:"\u6240\u5C5E\u90E8\u95E8",value:"departmentName"},{label:"\u521B\u5EFA\u4EBA\u5458",value:"creatorName"},{label:"\u524D\u5F52\u5C5E\u4EBA",value:"oldUserName"},{label:"\u524D\u6240\u5C5E\u90E8\u95E8",value:"oldDepartMentName"},{label:"\u521B\u5EFA\u65F6\u95F4",value:"createTime"},{label:"\u66F4\u65B0\u65F6\u95F4",value:"updateTime"},{label:"\u6700\u540E\u8DDF\u8FDB",value:"followTime"},{label:"\u4E0B\u6B21\u8DDF\u8FDB",value:"nextFollowTime"}];const Ut={key:0},jt={key:1},qt={key:0},Mt={key:1},Pt={key:2},Jt=O({__name:"index",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){const b=m;P();const a=V({formData:{},checked1:!1,pagination:{pageSize:10,pageIndex:1,total:0}}),{formData:t,checked1:o,pagination:p}=U(a);M(()=>{j()});let j=async(q={})=>{let g=JSON.parse(JSON.stringify(b.row)),B=X(J({},g),{clientType:findLabel(re,g.clientType),clientState:findLabel(ce,g.clientState),clientIndustry:findLabel(de,g.clientIndustry),clientSource:findLabel(pe,g.clientSource),clueRole:findLabel(_e,g.clueRole)});Object.assign(a.formData,J({},B))};return c({init:j}),(q,g)=>{const B=S("el-rate"),f=S("el-descriptions-item"),x=S("el-descriptions"),A=S("el-link");return l(),_("div",null,[n(x,{title:"\u57FA\u672C\u4FE1\u606F",class:"marginB20",column:2,border:""},{extra:r(()=>[]),default:r(()=>[(l(!0),_(H,null,Q(e(zt),(s,v)=>(l(),C(f,{"label-align":"right",align:"left",label:s.label,key:v,"label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[s.type==1?(l(),_("span",Ut,[n(B,{modelValue:e(t)[s.value],"onUpdate:modelValue":R=>e(t)[s.value]=R,disabled:""},null,8,["modelValue","onUpdate:modelValue"])])):(l(),_("span",jt,L(e(t)[s.value]||"-"),1))]),_:2},1032,["label"]))),128))]),_:1}),n(x,{title:"\u9644\u52A0\u4FE1\u606F",class:"marginB20",column:2,border:""},{default:r(()=>[(l(!0),_(H,null,Q(e(Ot),(s,v)=>(l(),C(f,{"label-align":"right",align:"left",label:s.label,key:v,"label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[s.type==1?(l(),_("span",qt,[n(A,{type:"primary"},{default:r(()=>[T(L(e(t)[s.value]||"-"),1)]),_:2},1024)])):s.type==2?(l(),_("span",Mt,[n(A,{type:"primary"},{default:r(()=>[T(L(e(t)[s.value]||"-"),1)]),_:2},1024)])):(l(),_("span",Pt,L(e(t)[s.value]||"-"),1))]),_:2},1032,["label"]))),128))]),_:1}),n(x,{title:"\u7CFB\u7EDF\u4FE1\u606F",class:"marginB20",column:2,border:""},{default:r(()=>[(l(!0),_(H,null,Q(e(Vt),(s,v)=>(l(),C(f,{"label-align":"right",align:"left",label:s.label,key:v,"label-class-name":"my-label","class-name":"my-content"},{default:r(()=>[d("span",null,L(e(t)[s.value]||"-"),1)]),_:2},1032,["label"]))),128))]),_:1})])}}});const Wt=O({__name:"index",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){const b=m;P();const a=V({searchData:{},checked1:!1,tableData:[],pagination:{pageSize:10,pageIndex:1,total:0}});U(a);let t=async(o={})=>{};return M(()=>{t()}),c({init:t}),(o,p)=>(l(),_("div",null,[n(st,{row:b.row},null,8,["row"])]))}});const Xt=O({__name:"index",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){P();const b=V({searchData:{},checked1:!1,tableData:[],pagination:{pageSize:10,pageIndex:1,total:0}});U(b);let a=async(t={})=>{};return M(()=>{a()}),c({init:a}),(t,o)=>(l(),_("div",null,[n(ot)]))}});const Gt={class:"flexStart"},Ht=O({__name:"index",emits:["success"],setup(m,{expose:c,emit:y}){K();const b=Y();P();const a=V({searchData:{startDate:"",endDate:"",keyWords:""},checked1:!1,tableData:[],clientId:"",pagination:{pageSize:10,pageIndex:1,total:0}}),{searchData:t,checked1:o,tableData:p,pagination:j}=U(a);let q=async(B={})=>{};M(()=>{a.clientId=b.query.clientId,g()});const g=async()=>{var f;let B=null;try{let x=JSON.parse(JSON.stringify(a.searchData));x.current=a.pagination.pageIndex,x.size=a.pagination.pageSize,x.detailsId=a.clientId,x.followInfoType="CLIENT",B=await fe.getList(x);let A=((f=B.data.records)==null?void 0:f.map(s=>{var v;return X(J({},s),{followType:findLabel(me,s.followType),hollow:!1,followInfoType:x.followInfoType,time:(v=s.createTime)==null?void 0:v.split(" ")[0]})}))||[];a.tableData=A,a.pagination.total=B.data.total||0}catch{a.tableData=[]}};return c({init:q}),(B,f)=>{const x=S("DateRangeCom"),A=S("el-input");return l(),_("div",null,[n(ue,{style:{height:"730px"},title:"\u8DDF\u8FDB\u8BB0\u5F55",tableData:e(p),pagination:e(j),fileDownType:"sendDetail",searchData:e(t),onSuccess:g},{default:r(()=>[d("div",Gt,[n(x,{starTime:e(t).startDate,"onUpdate:starTime":f[0]||(f[0]=s=>e(t).startDate=s),endTime:e(t).endDate,"onUpdate:endTime":f[1]||(f[1]=s=>e(t).endDate=s),width:"220px",style:{"margin-right":"10px"},onChange:g},null,8,["starTime","endTime"]),n(A,{style:{"margin-right":"10px",width:"200px"},modelValue:e(t).keyWords,"onUpdate:modelValue":f[2]||(f[2]=s=>e(t).keyWords=s),placeholder:"\u641C\u7D22\u5173\u952E\u5B57",onBlur:g},null,8,["modelValue"])])]),_:1},8,["tableData","pagination","searchData"])])}}});const Qt={id:"lx_log"},Kt={class:"top_btn"},Yt={class:"flexBetween",style:{"margin-bottom":"20px"}},Zt=O({__name:"index",emits:["success"],setup(m,{expose:c,emit:y}){const b=V({searchData:{},activeName:"1"}),{activeName:a}=U(b);let t=async(o={})=>{};return M(()=>{t()}),c({init:t}),(o,p)=>(l(),_("div",Qt,[d("div",Kt,[d("div",Yt,[d("div",{class:Re(e(a)=="1"?"active":""),onClick:p[0]||(p[0]=j=>a.value="1")},"\u901A\u8BDD\u8BB0\u5F55",2)])]),e(a)=="1"?(l(),C(it,{key:0})):k("",!0),e(a)=="2"?(l(),C(rt,{key:1})):k("",!0)]))}});const ea=O({__name:"index",emits:["success"],setup(m,{expose:c,emit:y}){P();const b=V({});U(b);let a=async(t={})=>{};return M(()=>{a()}),c({init:a}),(t,o)=>(l(),_("div",null,[n(ct)]))}});const ta={class:"flexBetween",style:{"margin-bottom":"20px"}},aa=d("div",null,"\u5546\u673A\u8BB0\u5F55",-1),la={class:"flexStart"},na=T("\u6DFB\u52A0"),ua=O({__name:"businessLog",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){const b=m,a=K(),t=Y();P();const o=V({searchData:{},checked1:!1,tableCols:[{label:"\u5546\u673A\u6807\u9898",prop:"businessTitle"},{label:"\u9884\u8BA1\u9500\u552E\u91D1\u989D",prop:"salesAmount"},{label:"\u9884\u8BA1\u7B7E\u5355\u65E5\u671F",prop:"dateSign"},{label:"\u9500\u552E\u9636\u6BB5",prop:"salesStage"},{label:"\u6210\u4EA4\u673A\u7387",prop:"clinchRate"},{label:"\u5546\u673A\u6765\u6E90",prop:"businessSource"},{label:"\u64CD\u4F5C",type:"Button",width:"330px",btnList:[{label:"\u8BE6\u60C5",size:"small",icon:"Edit",plain:!0,type:"primary",handle:(i,h)=>v(i)},{type:"danger",label:"\u5220\u9664",icon:"Delete",size:"small",plain:!0,handle:(i,h)=>s(i)}]}],clientId:"",tableData:[{}],pagination:{pageSize:10,pageIndex:1,total:0}}),p=z(null),{searchData:j,checked1:q,tableData:g,tableCols:B}=U(o);let f=async(i={})=>{},x=(i,h)=>{},A=()=>{var i;(i=p==null?void 0:p.value)==null||i.init("add2",{clientName:b.row.clientName,clientId:o.clientId})},s=(i,h)=>{te.confirm("\u5C06\u6C38\u4E45\u88AB\u5220\u9664\uFF0C\u5E76\u4E14\u65E0\u6CD5\u6062\u590D\u3002","\u786E\u5B9A\u5220\u9664\u5417\uFF1F").then(()=>{var F;(F=ze)==null||F.del(i.businessId).then(I=>{ee.success("\u5220\u9664\u6210\u529F"),R()})}).catch(()=>{})},v=(i,h)=>{a.push({path:"/detailManage/business",query:{businessId:i.businessId}})};M(()=>{o.clientId=t.query.clientId,$()}),c({init:f});const R=()=>{$()},$=async()=>{var h;let i=null;try{let F=JSON.parse(JSON.stringify(o.searchData));F.current=o.pagination.pageIndex,F.size=o.pagination.pageSize,i=await be.clientBusiness(o.clientId,F),o.tableData=((h=i.data.records)==null?void 0:h.map(I=>X(J({},I),{salesStage:findLabel(Oe,I.salesStage),clinchRate:findLabel(Ve,I.clinchRate),businessSource:findLabel(Ue,I.businessSource)})))||[],o.pagination.total=i.data.total||0}catch{o.tableData=[]}};return(i,h)=>{const F=S("el-button"),I=S("TableTemp");return l(),_("div",null,[d("div",ta,[aa,d("div",la,[n(F,{type:"primary",icon:"Plus",onClick:e(A)},{default:r(()=>[na]),_:1},8,["onClick"])])]),n(I,{comheight:360,isBorder:!0,isSelection:!0,isIndex:!1,isPagination:!1,loading:!1,isHandle:!0,tableData:e(g),tableCols:e(B),onSelectChage:e(x),onRefresh:$,headerStyle:{background:"rgb(245 245 245)",color:"#666666",fontSize:"14px",fontWeight:700,height:"49px"}},null,8,["tableData","tableCols","onSelectChage","headerStyle"]),n(ye,{ref_key:"SjAddRef",ref:p,onSuccess:$},null,512)])}}});const sa=O({__name:"index",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{emit:c}){const y=m;P();const b=V({});return U(b),(a,t)=>(l(),_("div",null,[n(ua,{row:y.row},null,8,["row"])]))}});const oa={class:"flexBetween",style:{"margin-bottom":"20px"}},ia=d("div",null,"\u8BA2\u5355\u8BB0\u5F55",-1),ra={class:"flexStart"},ca=T("\u6DFB\u52A0"),da=O({__name:"orderLog",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){const b=m,a=K(),t=Y();P();const o=V({searchData:{},checked1:!1,tableCols:[{label:"\u8BA2\u5355\u6807\u9898",prop:"orderTitile"},{label:"\u8BA2\u5355\u603B\u91D1\u989D",prop:"orderTotalMoney"},{label:"\u5BA1\u6279\u72B6\u6001",prop:"orderState"},{label:"\u5DF2\u56DE\u6B3E\u91D1\u989D",prop:"xxxx"},{label:"\u5DF2\u5F00\u7968\u91D1\u989D",prop:"xxxx"},{label:"\u521B\u5EFA\u65F6\u95F4",prop:"createTime"},{label:"\u64CD\u4F5C",type:"Button",width:"330px",btnList:[{label:"\u8BE6\u60C5",size:"small",icon:"Edit",plain:!0,type:"primary",handle:(i,h)=>v(i)},{type:"danger",label:"\u5220\u9664",icon:"Delete",size:"small",plain:!0,handle:(i,h)=>s("one",i)}]}],tableData:[],clientId:"",pagination:{pageSize:10,pageIndex:1,total:0}}),p=z(null),{searchData:j,checked1:q,tableData:g,tableCols:B}=U(o);let f=async(i={})=>{},x=(i,h)=>{},A=()=>{var i;(i=p==null?void 0:p.value)==null||i.init("add2",{clientName:b.row.clientName,clientId:o.clientId})},s=(i="one",h,F)=>{te.confirm("\u5C06\u6C38\u4E45\u88AB\u5220\u9664\uFF0C\u5E76\u4E14\u65E0\u6CD5\u6062\u590D\u3002","\u786E\u5B9A\u5220\u9664\u5417\uFF1F").then(()=>{var I;(I=je)==null||I.del(h.orderId).then(E=>{ee.success("\u5220\u9664\u6210\u529F"),R()})}).catch(()=>{})},v=(i,h)=>{a.push({path:"/detailManage/order",query:{orderId:i.orderId}})};M(()=>{o.clientId=t.query.clientId,$()}),c({init:f});const R=()=>{$()},$=async()=>{var h;let i=null;try{let F=JSON.parse(JSON.stringify(o.searchData));F.current=o.pagination.pageIndex,F.size=o.pagination.pageSize,i=await be.clientOrder(o.clientId,F),o.tableData=((h=i.data.records)==null?void 0:h.map(I=>X(J({},I),{orderState:findLabel(qe,I.orderState)})))||[],o.pagination.total=i.data.total||0}catch{o.tableData=[]}};return(i,h)=>{const F=S("el-button"),I=S("TableTemp");return l(),_("div",null,[d("div",oa,[ia,d("div",ra,[n(F,{type:"primary",icon:"Plus",onClick:e(A)},{default:r(()=>[ca]),_:1},8,["onClick"])])]),n(I,{comheight:360,isBorder:!0,isSelection:!0,isIndex:!1,isPagination:!1,loading:!1,isHandle:!0,tableData:e(g),tableCols:e(B),onSelectChage:e(x),onRefresh:$,headerStyle:{background:"rgb(245 245 245)",color:"#666666",fontSize:"14px",fontWeight:700,height:"49px"}},null,8,["tableData","tableCols","onSelectChage","headerStyle"]),n(ve,{ref_key:"orderAddRef",ref:p,onSuccess:$},null,512)])}}});const pa=O({__name:"index",props:{row:{type:Object,default:{}}},emits:["success"],setup(m,{expose:c,emit:y}){const b=m;P();const a=V({});U(a);let t=async(o={})=>{};return M(()=>{t()}),c({init:t}),(o,p)=>(l(),_("div",null,[n(da,{row:b.row},null,8,["row"])]))}});const _a=O({__name:"index",emits:["success"],setup(m,{expose:c,emit:y}){P();const b=V({searchData:{},checked1:!1,tableData:[],pagination:{pageSize:10,pageIndex:1,total:0}});U(b);let a=async(t={})=>{};return M(()=>{a()}),c({init:a}),(t,o)=>(l(),_("div",null,[n(dt)]))}});const ma={class:"flexStart"},ba=O({__name:"index",emits:["success"],setup(m,{expose:c,emit:y}){K();const b=Y();P();const a=V({searchData:{startDate:"",endDate:"",keyWords:""},checked1:!1,tableData:[],clientId:"",pagination:{pageSize:10,pageIndex:1,total:0}}),{searchData:t,checked1:o,tableData:p,pagination:j}=U(a);let q=async(B={})=>{};M(()=>{a.clientId=b.query.clientId,g()});const g=()=>{Ze.client({current:a.pagination.pageIndex,size:a.pagination.pageSize,clientId:b.query.clientId,followUpWhether:null}).then(B=>{a.tableData=B.data.records.map(f=>X(J({},f),{followContent:f.details,creatorName:f.userName})),a.pagination.total=B.data.total||0})};return c({init:q}),(B,f)=>{const x=S("DateRangeCom"),A=S("el-input");return l(),_("div",null,[n(ue,{style:{height:"730px"},title:" ",tableData:e(p),pagination:e(j),searchData:e(t),onSuccess:g},{default:r(()=>[d("div",ma,[n(x,{starTime:e(t).startDate,"onUpdate:starTime":f[0]||(f[0]=s=>e(t).startDate=s),endTime:e(t).endDate,"onUpdate:endTime":f[1]||(f[1]=s=>e(t).endDate=s),width:"220px",style:{"margin-right":"10px"},onChange:g},null,8,["starTime","endTime"]),n(A,{style:{"margin-right":"10px",width:"200px"},modelValue:e(t).keyWords,"onUpdate:modelValue":f[2]||(f[2]=s=>e(t).keyWords=s),placeholder:"\u641C\u7D22\u5173\u952E\u5B57",onBlur:g},null,8,["modelValue"])])]),_:1},8,["tableData","pagination","searchData"])])}}});const he=m=>(We("data-v-09134816"),m=m(),Xe(),m),fa={key:0,class:"main",style:{position:"relative"}},ya=he(()=>d("div",{id:"topBox",class:"flexStart"},[d("div",{class:"flexCenter"})],-1)),va={class:"flexBetween marginB10"},ha={class:"el-descriptions__title"},ga={class:"flexStart detail_tit"},Da={class:"marginR30"},Ba={class:"marginR30"},Fa=he(()=>d("div",{class:"marginR30"},null,-1)),xa={class:"marginB20 flexStart"},wa=T("\u5199\u65B0\u8DDF\u8FDB"),Aa=T("\u65B0\u5EFA\u4EFB\u52A1"),Ca=T("\u8F6C\u79FB\u5BA2\u6237"),Ea=T("\u6DFB\u52A0\u534F\u4F5C"),Sa=T("\u79FB\u5165\u516C\u6D77"),ka=T("\u7F16\u8F91\u5BA2\u6237"),$a=T("\u5220\u9664\u5BA2\u6237"),Ia=T("\u9886\u53D6\u5BA2\u6237"),Ta=T("\u5206\u914D\u5BA2\u6237"),Na=T("\u7F16\u8F91\u5BA2\u6237"),La=T("\u5220\u9664\u5BA2\u6237"),Ra=O({__name:"index",setup(m){const c=K(),y=Y(),{user:b}=P(),a=V({activeName:"1",formData:{},formData2:{},list:[{label:"\u6982\u51B5\u4FE1\u606F",value:"1"},{label:"\u8DDF\u8FDB\u8BB0\u5F55",value:"5"},{label:"\u8054\u7CFB\u4EBA",value:"3"},{label:"\u901A\u8BDD\u8BB0\u5F55",value:"6"},{label:"\u5546\u673A\u8BB0\u5F55",value:"9"},{label:"\u8BA2\u5355\u8BB0\u5F55",value:"10"},{label:"\u5BA2\u6237\u52A8\u6001",value:"15"}],options:[],selectList:[],reload:!0,isShowSea:!0}),{activeName:t,list:o,formData:p,reload:j,isShowSea:q}=U(a),g=z(null),B=z(null),f=z(null),x=z(null),A=z(null),s=z(null),v=z(null),R=z(null),$=z(null),i=z(null),h=z(null),F=z(null),I=z(null);Pe(()=>{a.isShowSea=y.query.isSea=="true",E()});let E=()=>{let w=y.query.clientId;le.getDetail(w).then(u=>{Object.assign(a.formData,X(J({},u.data.clientMaterialVO),{relatedDataVO:u.data.relatedDataVO}))}).catch(u=>console.log(u))};const Z=(w,u)=>{a.activeName=w.props.name};let G=()=>{var u;let w=a.formData;(u=R==null?void 0:R.value)==null||u.init("edit",w)},ge=()=>{var w;(w=v==null?void 0:v.value)==null||w.init("",a.formData.clientId)},De=()=>{var u;let w=y.query.clientId;(u=A==null?void 0:A.value)==null||u.init(w)},Be=()=>{var u;let w=y.query.clientId;(u=A==null?void 0:A.value)==null||u.init(w,"zhaunyi")},Fe=()=>{var u;let w=y.query.clientId;(u=s==null?void 0:s.value)==null||u.init(w)};const ae=w=>{var u,N;w==1?(u=g==null?void 0:g.value)==null||u.init("customer",a.formData):w==2||w==3&&((N=h==null?void 0:h.value)==null||N.init("add",X(J({},a.formData),{relatedBusiness:0,relatedBusinessName:"\u5BA2\u6237",businessId:a.formData.clientId,businessName:a.formData.clientName})))};ne("openSms");const W=()=>{a.reload=!1,Ge(()=>{a.reload=!0}),E()},se=()=>{te.confirm("\u8BE5\u6570\u636E\u5C06\u6C38\u4E45\u88AB\u5220\u9664\uFF0C\u5E76\u4E14\u65E0\u6CD5\u6062\u590D\u3002\u786E\u5B9A\u5220\u9664\u5417\uFF1F","\u63D0\u793A").then(()=>{var u;let w=y.query.clientId;(u=le)==null||u.del(w).then(N=>{ee.success("\u5220\u9664\u6210\u529F"),c.go(-1)})}).catch(()=>{})};let xe=()=>{let w=a.selectList.map(u=>u.clientId).join(",");if(!w){ee.error("\u9886\u53D6\u5BA2\u6237\u81F3\u5C11\u9700\u9009\u62E91\u6761\u6570\u636E\uFF1B");return}te.confirm("\u662F\u5426\u786E\u8BA4\u9886\u53D6\u6240\u9009\u62E9\u7684\u5BA2\u6237\uFF1F\u9886\u53D6\u540E*\u5929\u540E\u672A\u8DDF\u8FDB/\u6210\u4EA4\uFF0C\u5BA2\u6237\u5C06\u81EA\u52A8\u653E\u56DE\u516C\u6D77","\u786E\u8BA4\u63D0\u793A").then(()=>{var u;(u=le)==null||u.receiveClient(w).then(N=>{ee.success("\u64CD\u4F5C\u6210\u529F"),W()})}).catch(()=>{})};return(w,u)=>{const N=S("el-button"),we=S("el-tab-pane"),Ae=S("el-tabs"),Ce=S("el-card");return e(j)?(l(),_("div",fa,[n(Ce,{id:"content_box",shadow:"never"},{default:r(()=>[ya,d("div",va,[d("div",ha,L(e(p).contactName||"-"),1)]),d("div",ga,[d("div",Da," \u5BA2\u6237\u5F52\u5C5E\uFF1A"+L(e(p).belongUserName||"-"),1),d("div",Ba,"\u4F01\u4E1A\uFF1A"+L(e(p).clientName||"-"),1),Fa]),d("div",xa,[e(q)?k("",!0):(l(),_(H,{key:0},[n(N,{onClick:u[0]||(u[0]=D=>ae(1))},{default:r(()=>[wa]),_:1}),n(N,{onClick:u[1]||(u[1]=D=>ae(3))},{default:r(()=>[Aa]),_:1}),n(N,{onClick:u[2]||(u[2]=D=>e(Be)())},{default:r(()=>[Ca]),_:1}),n(N,{onClick:u[3]||(u[3]=D=>e(ge)())},{default:r(()=>[Ea]),_:1}),n(N,{onClick:u[4]||(u[4]=D=>e(Fe)())},{default:r(()=>[Sa]),_:1}),n(N,{icon:"Edit",onClick:u[5]||(u[5]=D=>e(G)())},{default:r(()=>[ka]),_:1}),n(N,{onClick:u[6]||(u[6]=D=>se()),icon:"Delete"},{default:r(()=>[$a]),_:1})],64)),e(q)?(l(),_(H,{key:1},[n(N,{onClick:u[7]||(u[7]=D=>e(xe)())},{default:r(()=>[Ia]),_:1}),e(b).userLevel==2?(l(),C(N,{key:0,onClick:u[8]||(u[8]=D=>e(De)())},{default:r(()=>[Ta]),_:1})):k("",!0),e(b).userLevel==2?(l(),C(N,{key:1,icon:"Edit",onClick:u[9]||(u[9]=D=>e(G)())},{default:r(()=>[Na]),_:1})):k("",!0),e(b).userLevel==2?(l(),C(N,{key:2,onClick:u[10]||(u[10]=D=>se()),icon:"Delete"},{default:r(()=>[La]),_:1})):k("",!0)],64)):k("",!0)]),n(Ae,{modelValue:e(t),"onUpdate:modelValue":u[12]||(u[12]=D=>Je(t)?t.value=D:null),onTabClick:Z,type:"border-card"},{default:r(()=>[(l(!0),_(H,null,Q(e(o),(D,Ee)=>(l(),C(we,{label:D.label,key:Ee,name:D.value},{default:r(()=>[e(t)=="1"&&D.value=="1"?(l(),C(Rt,{key:0,ref_for:!0,ref_key:"tab1ref",ref:I,row:e(p),isShowSea:e(q),onAddFollow:u[11]||(u[11]=za=>ae(1))},null,8,["row","isShowSea"])):k("",!0),e(t)=="2"&&D.value=="2"?(l(),C(Jt,{key:1,row:e(p)},null,8,["row"])):k("",!0),e(t)=="3"&&D.value=="3"?(l(),C(Wt,{key:2,row:e(p)},null,8,["row"])):k("",!0),e(t)=="4"&&D.value=="4"?(l(),C(Xt,{key:3,row:e(p)},null,8,["row"])):k("",!0),e(t)=="5"&&D.value=="5"?(l(),C(Ht,{key:4,row:e(p)},null,8,["row"])):k("",!0),e(t)=="6"&&D.value=="6"?(l(),C(Zt,{key:5,row:e(p)},null,8,["row"])):k("",!0),e(t)=="7"&&D.value=="7"?(l(),C(ea,{key:6,row:e(p)},null,8,["row"])):k("",!0),e(t)=="9"&&D.value=="9"?(l(),C(sa,{key:7,row:e(p)},null,8,["row"])):k("",!0),e(t)=="10"&&D.value=="10"?(l(),C(pa,{key:8,row:e(p)},null,8,["row"])):k("",!0),e(t)=="14"&&D.value=="14"?(l(),C(_a,{key:9,row:e(p)},null,8,["row"])):k("",!0),e(t)=="15"&&D.value=="15"?(l(),C(ba,{key:10,row:e(p)},null,8,["row"])):k("",!0)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),n(ye,{ref_key:"SJAddRefs",ref:B,onSuccess:W},null,512),n(He,{ref_key:"followTaskRef",ref:g,onSuccess:W,type:"customer"},null,512),n(Qe,{ref_key:"LXRAddRef",ref:f,onSuccess:W},null,512),n(ve,{ref_key:"orderAddRef",ref:x,onSuccess:W},null,512),n(at,{ref_key:"transferUserRef",ref:A,onSuccess:W},null,512),n(lt,{ref_key:"move2SeaRef",ref:s,onSuccess:W,type:"client"},null,512),n(nt,{ref_key:"addCooperationRef",ref:v,onSuccess:W},null,512),n(ut,{ref_key:"addRef",ref:R,onSuccess:W},null,512),n(Ke,{ref_key:"convert2CustomerRef",ref:$,onSuccess:W},null,512),n(Ye,{ref_key:"XSaddRef",ref:i,onSuccess:W},null,512),n(et,{ref_key:"addTaskRef",ref:h},null,512),n(tt,{ref_key:"addTaskRef2",ref:F},null,512)]),_:1})])):k("",!0)}}});var il=Me(Ra,[["__scopeId","data-v-09134816"]]);export{il as default};
