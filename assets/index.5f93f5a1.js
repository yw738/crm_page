var ve=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var de=($,f,B)=>f in $?ve($,f,{enumerable:!0,configurable:!0,writable:!0,value:B}):$[f]=B,re=($,f)=>{for(var B in f||(f={}))ye.call(f,B)&&de($,B,f[B]);if(ie)for(var B of ie(f))be.call(f,B)&&de($,B,f[B]);return $};import{a as H}from"./dict.c33b8edc.js";import{_ as ae,d as Y,q as ee,r as k,V as K,L as te,M as le,a as n,h as t,b as o,c as L,e as l,m as h,x as e,U as Q,y as ne,G as d,a0 as G,f as b,F as O,g as X,H as pe,I as ce,t as z,E as _e,A as Be}from"./index.6f18bade.js";import{A as ge}from"./add.4d672949.js";import{A as oe}from"./AddTask.f5502617.js";import{A as De}from"./AddTask2.d19b3af9.js";import{s as W}from"./index.0bd58103.js";import{F as me}from"./FollowTask.e925c40f.js";const Ee=d(" \u652F\u6301\u683C\u5F0F\uFF1A.jpg .png .gif\uFF0C\u6700\u591A\u53EF\u4E0A\u4F209\u5F20\u56FE\u7247 "),Ce={class:"dialog-footer",style:{"text-align":"center"}},ke=d("\u4FDD\u5B58"),he=d("\u53D6\u6D88"),Ae=Y({__name:"uploadFile",emits:["success"],setup($,{expose:f,emit:B}){ee();const r=k(K),c=te({title:"",visible:!1,formData:{employeeId:"",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value},fileIdList:[],rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",trigger:"blur"}],departmentIds:[{required:!0,message:"\u8BF7\u9009\u62E9\u90E8\u95E8",trigger:"blur"}],roleIds:[{required:!0,message:"\u8BF7\u9009\u62E9\u89D2\u8272",trigger:"blur"}]}}),{title:g,visible:E,formData:v,fileIdList:_}=le(c);let T=async(s=1,F={})=>{s==1?c.title="\u672A\u80FD\u5B8C\u6210":c.title="\u53D6\u6D88\u4EFB\u52A1",c.visible=!0};function C(){let s=JSON.parse(JSON.stringify(c.formData)),F=s.departmentIds[s.departmentIds.length-1];s.departmentIds=[F],s.email||delete s.email,s.phoneNumber||delete s.phoneNumber,W.add(s).then(()=>{G.success("\u65B0\u589E\u6210\u529F\uFF01"),U(),B("success")})}function A(){let s=JSON.parse(JSON.stringify(c.formData)),F=s.departmentIds[s.departmentIds.length-1];s.departmentIds=[F],W.update(s).then(()=>{G.success("\u7F16\u8F91\u6210\u529F\uFF01"),U(),B("success")})}function q(){let s=c.formData,F=new RegExp(/^1\d{10}$/g),N=new RegExp(/^\w+@[a-zA-Z0-9]{2,10}(?:\.[a-z]{2,4}){1,3}$/g);r.value.validate(w=>{if(s.email&&!N.test(s.email)){G.error("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u90AE\u7BB1\uFF01");return}if(s.phoneNumber&&!F.test(s.phoneNumber)){G.error("\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u624B\u673A\u53F7\u7801\uFF01");return}w&&(c.openType=="edit"?A():C())})}function U(){r.value.resetFields(),c.visible=!1,c.title="",Object.assign(c.formData,{employeeId:"",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value})}return f({init:T}),(s,F)=>{const N=n("el-input"),w=n("el-form-item"),J=n("CustomUpload"),y=n("el-button"),i=n("el-dialog");return t(E)?(o(),L(i,{key:0,title:t(g),modelValue:t(E),"onUpdate:modelValue":F[2]||(F[2]=S=>Q(E)?E.value=S:null),width:"700px",onClose:U,"close-on-click-modal":!1,"append-to-body":""},{footer:l(()=>[h("div",Ce,[e(y,{type:"primary",onClick:q},{default:l(()=>[ke]),_:1}),e(y,{onClick:U},{default:l(()=>[he]),_:1})])]),default:l(()=>[e(t(K),{ref_key:"dataFormRef",ref:r,model:t(v),"label-width":"130px"},{default:l(()=>[e(w,{label:"\u5907\u6CE8\u4FE1\u606F:",prop:"name"},{default:l(()=>[e(N,{modelValue:t(v).description,"onUpdate:modelValue":F[0]||(F[0]=S=>t(v).description=S),type:"textarea",rows:6,maxlength:"300","show-word-limit":"",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",autosize:{minRows:4,maxRows:4}},null,8,["modelValue"])]),_:1}),e(w,{label:"\u4E0A\u4F20\u56FE\u7247:",prop:"description"},{default:l(()=>[e(J,{isUploadImg:!0,fileIdList:t(_),"onUpdate:fileIdList":F[1]||(F[1]=S=>Q(_)?_.value=S:null)},null,8,["fileIdList"])]),_:1}),e(w,null,{default:l(()=>[Ee]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])):ne("",!0)}}});var fe=ae(Ae,[["__scopeId","data-v-19fff916"]]);const we={key:0},xe={key:1},Ie={key:2},$e={key:3},Se={class:"dialog-footer",style:{"text-align":"left"}},Te=d("\u7F16\u8F91\u8DDF\u8FDB"),Ve=d("\u5220\u9664\u8DDF\u8FDB"),Ne=Y({__name:"followDetail",emits:["success"],setup($,{expose:f,emit:B}){ee();const r=k(null),c=k(null),g=k(null),E=k(K),v=te({title:"",visible:!1,formData:{1:"\u963F\u65AF\u987F\u6492",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value},desList:[{title:"",list:[{label:"\u8DDF\u8FDB\u7C7B\u578B",value:"1"},{label:"\u8DDF\u8FDB\u65B9\u5F0F",value:"1"},{label:"\u8DDF\u8FDB\u65F6\u95F4",value:"1"},{label:"\u8DDF\u8FDB\u63CF\u8FF0",value:"1"},{label:"\u5BA2\u6237\u540D\u79F0",value:"1",type:1},{label:"\u7EBF\u7D22\u72B6\u6001",value:"1"},{label:"\u76F8\u5173\u9644\u4EF6",value:"1",type:2},{label:"\u8BC4\u8BBA\u6570\u91CF",value:"1"},{label:"\u8DDF\u8FDB\u4EBA\u5458",value:"1"},{label:"\u63D0\u9192\u8C01\u770B",value:"1"},{label:"\u521B\u5EFA\u65F6\u95F4",value:"1"}]}],isEnd:!1,showType:"\u5DF2\u5B8C\u6210",options:[],options2:[],props1:{checkStrictly:!0,value:"id",label:"name"},allList:[],openType:"",codeNum:10,isShowCountdown:!1,isSendCode:!1,timer:null}),{showType:_,visible:T,formData:C,desList:A,options:q,codeNum:U,isEnd:s}=le(v);let F=async(V={})=>{v.visible=!0};const N=()=>{},w=()=>{},J=()=>{};let y=()=>{var m;let V={};(m=r==null?void 0:r.value)==null||m.init(V)},i=()=>{_e.confirm("\u8BE5\u6570\u636E\u5C06\u6C38\u4E45\u88AB\u5220\u9664\uFF0C\u5E76\u4E14\u65E0\u6CD5\u6062\u590D\u3002","\u786E\u5B9A\u5220\u9664\u5417\uFF1F").then(()=>{var V;(V=W)==null||V.del(row.id).then(m=>{G.success("\u5220\u9664\u6210\u529F")})}).catch(()=>{})};function S(){E.value.resetFields(),v.visible=!1,v.title="",Object.assign(v.formData,{employeeId:"",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value})}return f({init:F}),(V,m)=>{const j=n("el-link"),M=n("el-descriptions-item"),p=n("el-descriptions"),u=n("el-button"),x=n("el-dialog");return o(),b(O,null,[t(T)?(o(),L(x,{key:0,title:"\u4EFB\u52A1\u8BE6\u60C5",modelValue:t(T),"onUpdate:modelValue":m[5]||(m[5]=I=>Q(T)?T.value=I:null),width:"700px",onClose:S,"close-on-click-modal":!1,"append-to-body":""},{footer:l(()=>[h("div",Se,[e(u,{type:"primary",onClick:m[3]||(m[3]=I=>t(y)())},{default:l(()=>[Te]),_:1}),e(u,{type:"danger",onClick:m[4]||(m[4]=I=>t(i)())},{default:l(()=>[Ve]),_:1})])]),default:l(()=>[e(t(K),{ref_key:"dataFormRef",ref:E,model:t(C),"label-width":"130px"},{default:l(()=>[(o(!0),b(O,null,X(t(A),(I,Z)=>pe((o(),L(p,{title:I.title,class:"marginB20",column:1,key:Z,border:""},{default:l(()=>[(o(!0),b(O,null,X(I.list,(D,P)=>(o(),L(M,{"label-align":"right",align:"left",label:D.label,key:P,"label-class-name":"my-label","class-name":"my-content"},{default:l(()=>[D.type==1?(o(),b("span",we,[e(j,{onClick:m[0]||(m[0]=a=>N()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(C)[D.value]),1)]),_:2},1024)])):D.type==2?(o(),b("span",xe,[e(j,{onClick:m[1]||(m[1]=a=>w()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(C)[D.value]),1)]),_:2},1024)])):D.type==3?(o(),b("span",Ie,[e(j,{onClick:m[2]||(m[2]=a=>J()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(C)[D.value]),1)]),_:2},1024)])):(o(),b("span",$e,z(t(C)[D.value]),1))]),_:2},1032,["label"]))),128))]),_:2},1032,["title"])),[[ce,!I.type||I.type==t(_)]])),128))]),_:1},8,["model"])]),_:1},8,["modelValue"])):ne("",!0),e(me,{ref_key:"followTaskRef",ref:r},null,512),e(oe,{ref_key:"addTaskRef",ref:c},null,512),e(fe,{ref_key:"uploadFileRef",ref:g},null,512)],64)}}});var Re=ae(Ne,[["__scopeId","data-v-b308c3d8"]]);const ze={key:0},Le={key:1},Ue={key:2},Oe={key:3},Je={class:"dialog-footer",style:{"text-align":"left"}},je=d("\u5B8C\u6210\u4EFB\u52A1"),Me=d("\u672A\u80FD\u5B8C\u6210"),qe=d("\u7F16\u8F91\u4EFB\u52A1"),Ge=d("\u53D6\u6D88\u4EFB\u52A1"),He=d("\u5220\u9664\u4EFB\u52A1"),Ke=Y({__name:"detail",emits:["success"],setup($,{expose:f,emit:B}){ee();const r=k(null),c=k(null),g=k(null),E=k(null),v=k(K),_=te({title:"",visible:!1,formData:{1:"\u963F\u65AF\u987F\u6492",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value},desList:[{title:"\u4EFB\u52A1\u4FE1\u606F",list:[{label:"\u4EFB\u52A1\u7C7B\u578B",value:"1"},{label:"\u8DDF\u8FDB\u5185\u5BB9",value:"1"},{label:"\u8DDF\u8FDB\u65F6\u95F4",value:"1"},{label:"\u7D27\u8981\u7A0B\u5EA6",value:"1"},{label:"\u5173\u8054\u4E1A\u52A1",value:"1",type:1},{label:"\u8DDF\u8FDB\u4EBA\u5458",value:"1"},{label:"\u7B7E\u5230\u5730\u5740",value:"1",type:2},{label:"\u7B7E\u5230\u8303\u56F4",value:"1"},{label:"\u4EFB\u52A1\u63D0\u9192",value:"1"},{label:"\u63D0\u9192\u65B9\u5F0F",value:"1"},{label:"\u521B\u5EFA\u65F6\u95F4",value:"1"}]},{type:"\u5DF2\u5B8C\u6210",title:"\u72B6\u6001\u4FE1\u606F",list:[{label:"\u4EFB\u52A1\u72B6\u6001",value:"1"},{label:"\u5904\u7406\u4EBA\u5458",value:"1"},{label:"\u5904\u7406\u65F6\u95F4",value:"1"},{label:"\u8DDF\u8FDB\u8BB0\u5F55",value:"1",type:3}]},{type:"\u672A\u5B8C\u6210",title:"\u72B6\u6001\u4FE1\u606F",list:[{label:"\u4EFB\u52A1\u72B6\u6001",value:"1"},{label:"\u5904\u7406\u4EBA\u5458",value:"1"},{label:"\u5904\u7406\u65F6\u95F4",value:"1"},{label:"\u5907\u6CE8\u4FE1\u606F",value:"1"}]},{type:"\u5DF2\u53D6\u6D88",title:"\u72B6\u6001\u4FE1\u606F",list:[{label:"\u4EFB\u52A1\u72B6\u6001",value:"1"},{label:"\u5904\u7406\u4EBA\u5458",value:"1"},{label:"\u5904\u7406\u65F6\u95F4",value:"1"},{label:"\u5907\u6CE8\u4FE1\u606F",value:"1"}]},{type:"\u5DF2\u8D85\u65F6",title:"\u72B6\u6001\u4FE1\u606F",list:[{label:"\u4EFB\u52A1\u72B6\u6001",value:"1"},{label:"\u8D85\u65F6\u65F6\u957F",value:"1"}]}],isEnd:!1,showType:"\u5DF2\u5B8C\u6210",options:[],options2:[],props1:{checkStrictly:!0,value:"id",label:"name"},allList:[],openType:"",codeNum:10,isShowCountdown:!1,isSendCode:!1,timer:null}),{showType:T,visible:C,formData:A,desList:q,options:U,codeNum:s,isEnd:F}=le(_);let N=async(p,u={})=>{_.visible=!0};const w=()=>{},J=()=>{},y=()=>{var u;let p={};(u=E==null?void 0:E.value)==null||u.init(p)};let i=()=>{var u;let p={};(u=r==null?void 0:r.value)==null||u.init(p)};const S=()=>{var p;(p=g==null?void 0:g.value)==null||p.init(1)};let V=()=>{var p;(p=c==null?void 0:c.value)==null||p.init([])};const m=()=>{var p;(p=g==null?void 0:g.value)==null||p.init(2)};let j=()=>{_e.confirm("\u8BE5\u6570\u636E\u5C06\u6C38\u4E45\u88AB\u5220\u9664\uFF0C\u5E76\u4E14\u65E0\u6CD5\u6062\u590D\u3002","\u786E\u5B9A\u5220\u9664\u8BE5\u6279\u6B21\u8BB0\u5F55\u5417\uFF1F").then(()=>{var p;(p=W)==null||p.del(row.id).then(u=>{G.success("\u5220\u9664\u6210\u529F")})}).catch(()=>{})};function M(){v.value.resetFields(),_.visible=!1,_.title="",Object.assign(_.formData,{employeeId:"",companyId:"",name:"",departmentIds:[],roleIds:[],phoneNumber:"",email:"",username:"",password:"",state:H[0].value})}return f({init:N}),(p,u)=>{const x=n("el-link"),I=n("el-descriptions-item"),Z=n("el-descriptions"),D=n("el-button"),P=n("el-dialog");return o(),b(O,null,[t(C)?(o(),L(P,{key:0,title:"\u4EFB\u52A1\u8BE6\u60C5",modelValue:t(C),"onUpdate:modelValue":u[7]||(u[7]=a=>Q(C)?C.value=a:null),width:"700px",onClose:M,"close-on-click-modal":!1,"append-to-body":""},{footer:l(()=>[h("div",Je,[e(D,{type:"primary",onClick:u[3]||(u[3]=a=>t(i)())},{default:l(()=>[je]),_:1}),e(D,{type:"primary",onClick:u[4]||(u[4]=a=>S())},{default:l(()=>[Me]),_:1}),e(D,{type:"primary",onClick:u[5]||(u[5]=a=>t(V)())},{default:l(()=>[qe]),_:1}),e(D,{type:"primary",onClick:u[6]||(u[6]=a=>m())},{default:l(()=>[Ge]),_:1}),e(D,{type:"danger",onClick:t(j)},{default:l(()=>[He]),_:1},8,["onClick"])])]),default:l(()=>[e(t(K),{ref_key:"dataFormRef",ref:v,model:t(A),"label-width":"130px",class:"task_detail"},{default:l(()=>[(o(!0),b(O,null,X(t(q),(a,ue)=>pe((o(),L(Z,{title:a.title,class:"marginB20",column:1,key:ue,border:""},{default:l(()=>[(o(!0),b(O,null,X(a.list,(R,Fe)=>(o(),L(I,{"label-align":"right",align:"left",label:R.label,key:Fe,"label-class-name":"my-label","class-name":"my-content"},{default:l(()=>[R.type==1?(o(),b("span",ze,[e(x,{onClick:u[0]||(u[0]=se=>w()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(A)[R.value]),1)]),_:2},1024)])):R.type==2?(o(),b("span",Le,[e(x,{onClick:u[1]||(u[1]=se=>J()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(A)[R.value]),1)]),_:2},1024)])):R.type==3?(o(),b("span",Ue,[e(x,{onClick:u[2]||(u[2]=se=>y()),underline:!1,type:"primary"},{default:l(()=>[d(z(t(A)[R.value]),1)]),_:2},1024)])):(o(),b("span",Oe,z(t(A)[R.value]),1))]),_:2},1032,["label"]))),128))]),_:2},1032,["title"])),[[ce,!a.type||a.type==t(T)]])),128))]),_:1},8,["model"])]),_:1},8,["modelValue"])):ne("",!0),e(me,{ref_key:"followTaskRef",ref:r},null,512),e(oe,{ref_key:"addTaskRef",ref:c},null,512),e(fe,{ref_key:"uploadFileRef",ref:g},null,512),e(Re,{ref_key:"followDetailRef",ref:E},null,512)],64)}}});var Xe=ae(Ke,[["__scopeId","data-v-8a70a8d6"]]);const Ze={class:"flexBetween",style:{"margin-bottom":"20px"}},Pe=h("div",null,"\u4EFB\u52A1\u8BB0\u5F55",-1),Qe={class:"flexStart"},We={class:"flexStart"},Ye=d("\u5BFC\u51FA"),et=d("\u65B0\u5EFA\u4EFB\u52A1"),tt={class:"cell-item"},lt=d(" \u5F00\u59CB\u65F6\u95F4 "),ut={style:{"padding-left":"15px"}},at=d("Suzhou"),nt={class:"flexStart"},ot=h("div",null,"\u627E",-1),st=d("Suzhou"),it=d(" \u8BE6\u60C5 "),dt={class:"ces-pagination"},rt=h("span",null,null,-1),bt=Y({__name:"index",emits:["success"],setup($,{expose:f,emit:B}){ee();const r=te({searchData:{},checked1:!1,options:[],tableData:[{}],pagination:{pageSize:10,pageIndex:1,total:0}}),c=k(null),g=k(null),E=k(null),v=k(null),{searchData:_,options:T,tableData:C}=le(r);let A=async(y={})=>{},q=y=>{r.pagination.pageIndex=y,w()},U=y=>{r.pagination.pageSize=y,w()};const s=y=>{var i;y==2||y==3&&((i=g==null?void 0:g.value)==null||i.init("add"))};let F=()=>{window.fileDown("",re({},r.searchData))},N=y=>{var i;(i=v==null?void 0:v.value)==null||i.init(y)};Be(()=>{A()}),f({init:A});const w=()=>{J()},J=async()=>{};return(y,i)=>{const S=n("el-option"),V=n("el-select"),m=n("DateRangeCom"),j=n("el-input"),M=n("el-button"),p=n("Timer"),u=n("el-icon"),x=n("el-descriptions-item"),I=n("el-avatar"),Z=n("el-descriptions"),D=n("el-card"),P=n("el-pagination");return o(),b("div",null,[h("div",Ze,[Pe,h("div",Qe,[h("div",We,[e(V,{modelValue:t(_).name,"onUpdate:modelValue":i[0]||(i[0]=a=>t(_).name=a),style:{width:"180px","margin-right":"10px"},placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(o(!0),b(O,null,X(t(T),a=>(o(),L(S,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(m,{starTime:t(_).start,"onUpdate:starTime":i[1]||(i[1]=a=>t(_).start=a),endTime:t(_).end,"onUpdate:endTime":i[2]||(i[2]=a=>t(_).end=a),width:"220px",style:{"margin-right":"10px"}},null,8,["starTime","endTime"]),e(j,{style:{"margin-right":"10px",width:"200px"},modelValue:t(_).description,"onUpdate:modelValue":i[3]||(i[3]=a=>t(_).description=a),placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"])]),e(M,{type:"primary",icon:"Download",onClick:t(F)},{default:l(()=>[Ye]),_:1},8,["onClick"]),e(M,{onClick:i[4]||(i[4]=a=>s(3))},{default:l(()=>[et]),_:1})])]),(o(!0),b(O,null,X(t(C),(a,ue)=>(o(),L(D,{"body-style":{padding:"20px 20px 0px 20px"},shadow:"never",class:"marginB20",key:ue},{default:l(()=>[e(Z,{direction:"vertical",column:10},{default:l(()=>[e(x,{label:"Username"},{label:l(()=>[h("div",tt,[e(u,null,{default:l(()=>[e(p)]),_:1}),lt])]),default:l(()=>[h("span",ut,z(a.aaa),1)]),_:2},1024),e(x,{label:"\u4EFB\u52A1\u6807\u9898"},{default:l(()=>[at]),_:1}),e(x,{label:"\u8D1F\u8D23\u4EBA\u5458"},{default:l(()=>[h("div",nt,[e(I,{size:"small",src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}),ot])]),_:1}),e(x,{label:"\u4EFB\u52A1\u72B6\u6001"}),e(x,{label:"\u7D27\u8981\u7A0B\u5EA6"},{default:l(()=>[st]),_:1}),e(x,{label:"\u64CD\u4F5C"},{default:l(()=>[e(M,{onClick:R=>t(N)(a)},{default:l(()=>[it]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),h("div",dt,[rt,e(P,{class:"el_pagination",onCurrentChange:t(q),onSizeChange:t(U),background:"","page-sizes":[10,20,30,40,50,100],layout:"sizes ,prev, pager, next","page-size":r.pagination.pageSize,"current-page":r.pagination.pageIndex,total:r.pagination.total},null,8,["onCurrentChange","onSizeChange","page-size","current-page","total"])]),e(ge,{ref_key:"LXRAddRef",ref:c},null,512),e(oe,{ref_key:"addTaskRef",ref:g},null,512),e(De,{ref_key:"addTaskRef2",ref:E},null,512),e(Xe,{ref_key:"detailRef",ref:v},null,512)])}}});export{bt as _};
